<!DOCTYPE html>
<html>
<head>
  <title>PDF Prompt Image Generator</title>
</head>
<body style="background:black;color:white;text-align:center">

  <h2>PDF → Image Generator</h2>

  <input type="file" id="pdf">
  <br><br>
<button id="startBtn" onclick="start()">Start</button>

  <p id="status"></p>
<script>
  async function start() {
    const btn = document.getElementById("startBtn");

    btn.disabled = true;
    btn.innerText = "Processing...";

    try {
      const res = await fetch("/api/process", {
        method: "POST"
      });

      const data = await res.json();
      alert(data.message);

    } catch (err) {
      console.error(err);
      alert("Something went wrong ❌");

    } finally {
      // 🔥 THIS FIXES FREEZE ISSUE
      btn.disabled = false;
      btn.innerText = "Start";
    }
  }
</script>

</body>
</html>


